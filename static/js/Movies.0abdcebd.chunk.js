(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[4],{57:function(e,t,r){e.exports={SearchForm:"Movies_SearchForm__2iyXf",SearchFormButton:"Movies_SearchFormButton__1al34",SearchFormButtonLabel:"Movies_SearchFormButtonLabel__3wCnp",SearchFormInput:"Movies_SearchFormInput__3IRDd",movieLink:"Movies_movieLink__1OhCf"}},65:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return v}));var c=r(51),n=r.n(c),a=r(52),o=r(17);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,c)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){Object(o.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u=r(53),h=r(0),p=r(18),b=r(3),l=r(9),m=r(54),f=r(57),j=r.n(f),O=r(1);function v(){var e=Object(b.h)(),t=Object(b.g)(),r=Object(h.useState)(""),c=Object(u.a)(r,2),o=c[0],s=c[1],f=Object(h.useState)(null),v=Object(u.a)(f,2),y=v[0],S=v[1],d=new URLSearchParams(e.search).get("query");function _(e){return g.apply(this,arguments)}function g(){return(g=Object(a.a)(n.a.mark((function e(t){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.fetchMoviesByQuery(t);case 2:r=e.sent,S(r.results);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(h.useEffect)((function(){!y&&d&&_(d)}),[y,d]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("form",{className:j.a.SearchForm,onSubmit:function(r){r.preventDefault(),""!==o.trim()?(t.push(i(i({},e),{},{search:"query=".concat(o)})),_(o),s("")):p.b.error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0438\u0441\u043a\u043e\u0432\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441.")},children:[Object(O.jsx)("button",{type:"submit",className:j.a.SearchFormButton,children:Object(O.jsx)("span",{className:j.a.SearchFormButtonLabel,children:"Search"})}),Object(O.jsx)("input",{className:j.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"\u041f\u043e\u0438\u0441\u043a \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0439 \u0438 \u0444\u043e\u0442\u043e",onChange:function(e){s(e.target.value)},value:o})]}),y&&Object(O.jsx)("ul",{children:y.map((function(t){return Object(O.jsx)("li",{children:Object(O.jsx)(l.b,{className:j.a.movieLink,to:{pathname:"/movies/".concat(t.id),state:{from:e}},children:t.title})},t.id)}))})]})}}}]);
//# sourceMappingURL=Movies.0abdcebd.chunk.js.map